<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pvolve Animations</title>
    <style>
        :root {
            /* Pvolve-inspired palette: earthy, calm, sophisticated */
            --bg-color: #F8F5F2; /* Soft beige/sand */
            --text-color: #2D2D2D; /* Deep charcoal */
            --card-bg: #FFFFFF;
            --accent: #E5A99B; /* Soft peach/clay */
            --font-main: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            margin: 0;
            padding: 40px;
            -webkit-font-smoothing: antialiased;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 300;
            letter-spacing: -0.5px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        p.subtitle {
            font-size: 1.1rem;
            color: #666;
            font-weight: 300;
        }

        section {
            margin-bottom: 80px;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            padding-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 40px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 50px 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }

        .preview {
            width: 280px;
            height: 280px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            background: #fdfdfd;
            border-radius: 50%;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .preview.dark {
            background: #2D2D2D;
            border: none;
        }

        .preview img {
            max-width: 100%;
            max-height: 100%;
        }

        /* Large Grid Preview Styling */
        .large-preview-container {
            width: 100%;
            max-width: 1200px;
            height: 600px;
            background: #2D2D2D;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            margin-bottom: 60px;
        }

        .animation-wrapper {
            width: 800px;
            height: 800px;
            transform: scale(0.9); /* Fill more of the container */
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dot {
            fill: #FFFEFE;
            stroke: white;
            stroke-width: 2;
            transition: transform 1000ms ease-in-out, r 1000ms ease-in-out, opacity 1000ms ease;
        }

        .text-container {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .text-path {
            position: absolute;
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.6s ease, transform 0.8s ease;
            pointer-events: none;
        }

        .text-path.active {
            opacity: 1;
            transform: scale(1);
        }

        .text-path.scaled {
            transform: scale(1.6);
        }

        h3 {
            font-size: 1rem;
            font-weight: 500;
            margin: 0 0 8px 0;
        }

        p.desc {
            font-size: 0.85rem;
            color: #888;
            margin: 0;
            line-height: 1.4;
        }

        .tag {
            display: inline-block;
            padding: 4px 10px;
            background: var(--bg-color);
            color: #666;
            border-radius: 20px;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
        }

    </style>
</head>
<body>

    <header>
        <h1>Pvolve Animations</h1>
        <p class="subtitle">Clean, functional movement for brand assets</p>
    </header>

    <section>
        <h2>Icon Animation</h2>
        <div class="grid">
            <div class="card">
                <span class="tag">Smooth Swipe</span>
                <div class="preview">
                    <img src="icon-variant-5-elastic-snap.svg" alt="Animated Icon">
                </div>
                <h3>Brand Icon</h3>
                <p class="desc">Smooth, linear positional shifts (Swipe).</p>
            </div>
        </div>
    </section>

    <section>
        <h2>Grid Motion Variations</h2>
        <div class="grid">
            <div class="card">
                <span class="tag">Variant 1: Snappy Stagger</span>
                <div class="preview dark" id="variant-1">
                    <svg width="240" height="240" viewBox="-150 -150 300 300" style="overflow: visible;">
                        <g class="dots-container"></g>
                    </svg>
                </div>
                <h3>Snappy</h3>
                <p class="desc">Fast transitions with a steep cubic-bezier ease.</p>
            </div>
            <div class="card">
                <span class="tag">Variant 2: Elastic Bounce</span>
                <div class="preview dark" id="variant-2">
                    <svg width="240" height="240" viewBox="-150 -150 300 300" style="overflow: visible;">
                        <g class="dots-container"></g>
                    </svg>
                </div>
                <h3>Bouncy</h3>
                <p class="desc">Added elastic feel with slight overshoot.</p>
            </div>
            <div class="card">
                <span class="tag">Variant 3: Fluid Flow</span>
                <div class="preview dark" id="variant-3">
                    <svg width="240" height="240" viewBox="-150 -150 300 300" style="overflow: visible;">
                        <g class="dots-container"></g>
                    </svg>
                </div>
                <h3>Fluid</h3>
                <p class="desc">Soft, continuous movement with low stagger.</p>
            </div>
        </div>
    </section>

    <section>
        <h2>Exportable SVG Variants (CSS-only)</h2>
        <div class="grid">
            <div class="card">
                <span class="tag">CSS Snappy</span>
                <div class="preview dark">
                    <img src="grid-variant-snappy.svg" alt="Snappy SVG">
                </div>
                <h3>SVG Snappy</h3>
                <p class="desc">Pure CSS animation inside SVG.</p>
            </div>
            <div class="card">
                <span class="tag">CSS Bouncy</span>
                <div class="preview dark">
                    <img src="grid-variant-bouncy.svg" alt="Bouncy SVG">
                </div>
                <h3>SVG Bouncy</h3>
                <p class="desc">Pure CSS animation with elastic easing.</p>
            </div>
            <div class="card">
                <span class="tag">CSS Fluid</span>
                <div class="preview dark">
                    <img src="grid-variant-fluid.svg" alt="Fluid SVG">
                </div>
                <h3>SVG Fluid</h3>
                <p class="desc">Pure CSS animation with soft flow.</p>
            </div>
        </div>
    </section>

    <section>
        <h2>Intentional Shapes - Distinct Motions</h2>
        <div class="grid">
            <div class="card">
                <span class="tag">Shape 1</span>
                <div class="preview">
                    <img src="icons/icon1-smooth.svg" alt="Animated Icon 1">
                </div>
                <h3>T-Shape</h3>
                <p class="desc">Smooth slide and swipe motion to form the base.</p>
            </div>
            <div class="card">
                <span class="tag">Shape 2</span>
                <div class="preview">
                    <img src="icons/icon2-distinct.svg" alt="Animated Icon 2">
                </div>
                <h3>Trapezoid</h3>
                <p class="desc">Start as one, split out to a wide base, and then rise up to form the shape.</p>
            </div>
            <div class="card">
                <span class="tag">Shape 3</span>
                <div class="preview">
                    <img src="icons/icon3-distinct.svg" alt="Animated Icon 3">
                </div>
                <h3>Y-Shape</h3>
                <p class="desc">Smooth rotation around its center dot.</p>
            </div>
            <div class="card">
                <span class="tag">Shape 4</span>
                <div class="preview">
                    <img src="icons/icon4-distinct.svg" alt="Animated Icon 4">
                </div>
                <h3>Diamond</h3>
                <p class="desc">Multiply out from the center dot.</p>
            </div>
        </div>
    </section>

    <script src="frames_data.js"></script>
    <script>
      function getDistance(p1, p2) {
          return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));
      }

      function initGridAnimation(containerId, options = {}) {
          const container = document.getElementById(containerId);
          const dotsContainer = container.querySelector('.dots-container');
          
          const numDots = 16;
          const duration = options.duration || 800;
          const hold = options.hold || 1500;
          const stagger = options.stagger === undefined ? 25 : options.stagger;
          const easing = options.easing || "cubic-bezier(0.4, 0, 0.2, 1)";
          const dotRadius = options.dotRadius || 4.726;

          let dots = [];
          let currentPositions = framesData[0].points.map(p => ({ x: p.x, y: p.y }));
          
          for(let i=0; i<numDots; i++) {
            let circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("r", dotRadius);
            circle.classList.add("dot");
            dotsContainer.appendChild(circle);
            dots.push(circle);
          }

          function goToShape(index) {
            const shape = framesData[index];
            
            let availableTargets = shape.points.map(p => ({ x: p.x, y: p.y }));
            let finalAssignments = new Array(dots.length);
            let unassignedTargets = [...availableTargets];
            
            for (let i = 0; i < dots.length; i++) {
                let closestDist = Infinity;
                let closestIdx = -1;
                for (let j = 0; j < unassignedTargets.length; j++) {
                    let dist = getDistance(currentPositions[i], unassignedTargets[j]);
                    if (dist < closestDist) {
                        closestDist = dist;
                        closestIdx = j;
                    }
                }
                finalAssignments[i] = unassignedTargets.splice(closestIdx, 1)[0];
            }

            let improved = true;
            while (improved) {
                improved = false;
                for (let i = 0; i < dots.length; i++) {
                    for (let j = i + 1; j < dots.length; j++) {
                        let p1 = currentPositions[i];
                        let t1 = finalAssignments[i];
                        let p2 = currentPositions[j];
                        let t2 = finalAssignments[j];
                        
                        let currentDist = getDistance(p1, t1) + getDistance(p2, t2);
                        let swappedDist = getDistance(p1, t2) + getDistance(p2, t1);
                        
                        if (swappedDist < currentDist - 0.001) {
                            finalAssignments[i] = t2;
                            finalAssignments[j] = t1;
                            improved = true;
                        }
                    }
                }
            }
            
            dots.forEach((dot, i) => {
                let target = finalAssignments[i] || {x: 0, y: 0};
                currentPositions[i] = { x: target.x, y: target.y };
                
                const delay = i * stagger;
                const r = dotRadius;
                
                dot.style.transition = `transform ${duration}ms ${easing} ${delay}ms, r ${duration}ms ${easing} ${delay}ms, opacity ${duration}ms ease ${delay}ms`;
                dot.setAttribute("r", r);
                dot.style.transform = `translate(${target.x}px, ${target.y}px)`;
            });

            const totalTime = duration + (numDots * stagger) + hold;
            setTimeout(() => goToShape((index + 1) % framesData.length), totalTime);
          }

          setTimeout(() => goToShape(0), 500);
      }

      // Initialize all variations
      initGridAnimation('variant-1', { 
        duration: 500, 
        hold: 1000, 
        stagger: 30, 
        easing: 'cubic-bezier(0.34, 1.56, 0.64, 1)' // Snappy with overshoot
      });

      initGridAnimation('variant-2', { 
        duration: 800, 
        hold: 1000, 
        stagger: 40, 
        easing: 'cubic-bezier(0.68, -0.6, 0.32, 1.6)' // Bouncy elastic
      });

      initGridAnimation('variant-3', { 
        duration: 1200, 
        hold: 800, 
        stagger: 10, 
        easing: 'cubic-bezier(0.45, 0, 0.55, 1)' // Fluid
      });
    </script>

</body>
</html>
